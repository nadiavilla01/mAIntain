:root{
    --ai-bg: var(--panel, #0f172a);
    --ai-bg-2: var(--panel-2, #0e162c);
    --ai-border: var(--border, #223049);
    --ai-text: var(--text, #e6eefb);
    --ai-muted: var(--muted, #94a3b8);
    --ai-accent: var(--accent, #38bdf8);
    --ai-accent2: var(--accent-2, #22d3ee);
    --ai-shadow: 0 14px 36px rgba(0,0,0,.35);
    --ai-radius: 16px;
  }
  
  .ai-assistant-container{
    position:fixed; right:18px; bottom:18px; z-index:60;
  }
  
  
  .ai-fab-wrap{ position: relative; }
  
  
  .ai-fab{
    display:flex; align-items:center; gap:10px;
    background:linear-gradient(90deg, var(--ai-accent), var(--ai-accent2));
    color:#03121e; font-weight:800; border:none; border-radius:999px;
    padding:10px 14px; cursor:pointer;
    box-shadow:0 14px 32px rgba(56,189,248,.22), 0 0 30px rgba(34,211,238,.26);
    transition: transform .08s ease, filter .15s ease, box-shadow .15s ease;
  }
  .ai-fab:hover{ filter:brightness(1.06); box-shadow:0 16px 34px rgba(56,189,248,.26), 0 0 32px rgba(34,211,238,.32); }
  .ai-fab:active{ transform: translateY(1px); }
  .ai-fab-label{ letter-spacing:.15px; }
  
  
  .ai-avatar{
    position:relative;
    width:28px; height:28px; border-radius:999px;
    display:grid; place-items:center;
    background: radial-gradient(120% 120% at 30% 20%, #173250 0%, #0b172a 60%, #081221 100%);
    border:1px solid rgba(255,255,255,.06);
    box-shadow: inset 0 1px 0 rgba(255,255,255,.05);
    color:#cfeaff;
  }
  .ai-avatar.lg{ width:28px; height:28px; margin-right:8px; }
  .ai-orb{
    content:""; position:absolute; inset:-2px; border-radius:inherit;
    background: conic-gradient(from 160deg, rgba(56,189,248,.0), rgba(56,189,248,.35), rgba(56,189,248,.0) 70%);
    filter: blur(6px); opacity:.7; pointer-events:none;
  }
  .ai-robot{ position:relative; opacity:.95; }
  .ai-ping{
    position:absolute; inset:-6px; border-radius:999px;
    border:2px solid rgba(56,189,248,.35);
    animation: aiPing 1.8s ease-out infinite;
    pointer-events:none;
  }
  @keyframes aiPing{
    0%{ transform: scale(.6); opacity:.6; }
    70%{ transform: scale(1.2); opacity:0; }
    100%{ transform: scale(1.2); opacity:0; }
  }
  
  
  .ai-hint{
    position:absolute; right:0; bottom:56px;
    background: linear-gradient(180deg, rgba(16,26,48,.92), rgba(10,20,38,.88));
    color: var(--ai-text);
    border:1px solid var(--ai-border);
    border-radius: 14px;
    padding:10px 12px;
    box-shadow: var(--ai-shadow), inset 0 0 0 1px rgba(255,255,255,.03);
    display:flex; align-items:center; gap:8px;
    transform-origin: 100% 100%;
    animation: cloudIn .18s ease-out forwards;
  }
  .ai-hint::after{
    content:"";
    position:absolute; right:16px; bottom:-8px;
    width:12px; height:12px;
    background: inherit;
    border-left:1px solid var(--ai-border);
    border-bottom:1px solid var(--ai-border);
    transform: rotate(45deg);
    box-shadow: inset 0 0 0 1px rgba(255,255,255,.02);
  }
  @keyframes cloudIn{
    from{ transform: translateY(6px) scale(.98); opacity:0; }
    to{ transform: translateY(0) scale(1); opacity:1; }
  }
  .ai-hint-text{ font-weight:700; letter-spacing:.15px; }
  .ai-hint-close{
    background:transparent; border:1px solid rgba(255,255,255,.08);
    color:#cfeaff; width:22px; height:22px; border-radius:6px;
    cursor:pointer; line-height:1;
  }
  .ai-hint-close:hover{ border-color: var(--ai-accent); }
  
  
  .ai-chatbox{
    width:min(420px, 92vw);
    background:linear-gradient(180deg, rgba(14,22,44,.8), rgba(10,18,36,.7));
    backdrop-filter: blur(10px) saturate(120%);
    -webkit-backdrop-filter: blur(10px) saturate(120%);
    border:1px solid rgba(56,189,248,.2);
    border-radius:var(--ai-radius);
    box-shadow:0 12px 32px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.02);
    overflow:hidden;
  }
  
  
  .chat-header{
    display:flex; align-items:center; justify-content:space-between;
    padding:10px 12px; border-bottom:1px solid rgba(56,189,248,.18);
  }
  .chat-header .title{ display:flex; align-items:center; gap:8px; font-weight:800; color:#e6eefb; }
  .icon-btn{
    background:transparent; border:1px solid rgba(56,189,248,.22);
    color:#cfeaff; border-radius:8px; padding:4px 6px; cursor:pointer;
  }
  .icon-btn:hover{ filter:brightness(1.08); }
  
  
  .chat-body{
    display:flex; flex-direction:column; gap:10px; max-height:46vh; overflow:auto;
    padding:12px;
  }
  .chat-body::-webkit-scrollbar{ width:8px; }
  .chat-body::-webkit-scrollbar-thumb{
    background: linear-gradient(180deg, #223049, #2d4268);
    border-radius:8px;
  }
  
  
  .chat-msg{
    max-width:78%;
    padding:10px 12px; border-radius:14px; font-size:.95rem;
    border:1px solid rgba(56,189,248,.12);
    box-shadow:0 6px 16px rgba(0,0,0,.25);
  }
  .chat-msg.user{
    margin-left:auto; color:#03121e;
    background:linear-gradient(90deg,#38bdf8,#22d3ee);
    border-color:rgba(56,189,248,.4);
    box-shadow:0 10px 24px rgba(56,189,248,.18), 0 0 26px rgba(34,211,238,.26);
  }
  .chat-msg.ai{
    background:linear-gradient(135deg,#0b1a2e,#0f2744);
    color:#e6eefb;
  }
  
  
  .quick-prompts{
    display:flex; gap:8px; flex-wrap:wrap; padding:4px 12px 0;
  }
  .qpill{
    background:rgba(9,16,30,.7);
    border:1px solid #223049; color:#cfeaff;
    font-weight:700; border-radius:999px; padding:6px 10px; cursor:pointer;
  }
  .qpill:hover{ filter:brightness(1.06); border-color:#2c4267; }
  
  
  .chat-input{
    display:flex; gap:8px; align-items:center;
    padding:10px 12px 12px; border-top:1px solid rgba(56,189,248,.18);
  }
  .chat-input input{
    flex:1; background:#0c162c; color:#e6eefb; border:1px solid #223049;
    border-radius:10px; padding:10px; outline:none;
  }
  .chat-input input:focus{ border-color:#38bdf8; box-shadow:0 0 0 2px rgba(56,189,248,.20); }
  .chat-input button,
  .send-btn{
    background:linear-gradient(90deg,#22d3ee,#38bdf8);
    color:#03121e; font-weight:800; border:none; border-radius:10px; padding:10px 12px; cursor:pointer;
    box-shadow:0 12px 26px rgba(34,211,238,.16), 0 0 18px rgba(56,189,248,.28);
  }
  .chat-input button[disabled],
  .send-btn[disabled]{ opacity:.6; cursor:not-allowed; }